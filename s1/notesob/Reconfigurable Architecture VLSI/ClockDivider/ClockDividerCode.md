# Clock Divider

> Clock dividers are circuits that divide the frequency of a clock signal by a certain factor. They are commonly used in digital systems to generate lower frequency clock signals from a higher frequency source.

### Example: 2-bit Clock Divider

We will design a 2-bit clock divider that divides the input clock frequency by 4. The output will toggle every 4 clock cycles.

```verilog

module clock_divider (
    input clk_in,
    output reg clk_out
);    
reg [1:0] counter; // 2-bit counter   
always @(posedge clk_in) begin
    counter <= counter + 1; // Increment the counter on each clock cycle
    clk_out <= counter[1]; // Output the MSB of the counter as the divided clock
    end
endmodule
```

In this example, the counter is a 2-bit register that increments on each rising edge of the input clock. The output clock (clk_out) is generated by taking the most significant bit (MSB) of the counter.

### Example: 32-bit Clock Divider

We will design a 32-bit clock divider that divides the input clock frequency by 26. We use the 25 th bit of the counter register.

```verilog

module clockdivide(clk, nclk);
input clk;
output reg nclk;
reg [31:0]count=32'd0;
always@(posedge clk) begin
    count=count+1;
    nclk=count[25];
    end
endmodule
    
```

A 32-bit counter register count is initialized to zero. On every positive edge of the input clock, the counter is incremented by 1.The output clock (`nclk`) is assigned the value of the 26th bit (bit 25) of the counter.

Since the code uses bit 25 of the counter, the division ratio is 2^26 (67,108,864). This means:

- If the input clock is 100 MHz, the output clock would be approximately 1.49 Hz.
- Each bit position in the counter creates a clock with half the frequency of the previous bit.
- The counter works as a frequency divider by 2^n, where n is the bit position.

## Test bench

```verilog

module clockdivide_test;
reg clk;
wire nclk;
clockdivide uu(clk, nclk);
    initial begin
        clk=0;
        forever #5clk=~clk;
    end
    initial
        # 1000000000 $stop;
endmodule
```

## Top module

```verilog

module clock_divider_top(clk,led);
input clk;
output led;
clockdivide u1(clk, led);
endmodule
```